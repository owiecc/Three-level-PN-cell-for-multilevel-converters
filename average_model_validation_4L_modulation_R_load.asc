Version 4
SHEET 1 4356 1844
WIRE 2224 -1440 2160 -1440
WIRE 2160 -1424 2160 -1440
WIRE 1648 -1408 1616 -1408
WIRE 1680 -1408 1648 -1408
WIRE 1824 -1408 1792 -1408
WIRE 2224 -1392 2224 -1440
WIRE 2272 -1392 2224 -1392
WIRE 2576 -1392 2528 -1392
WIRE 1824 -1376 1792 -1376
WIRE 1824 -1344 1792 -1344
WIRE 2160 -1328 2160 -1344
WIRE 2192 -1328 2160 -1328
WIRE 2160 -1312 2160 -1328
WIRE 2272 -1280 2224 -1280
WIRE 2576 -1280 2528 -1280
WIRE 2768 -1280 2704 -1280
WIRE 2848 -1280 2768 -1280
WIRE 2976 -1280 2928 -1280
WIRE 2160 -1216 2160 -1232
WIRE 2224 -1216 2224 -1280
WIRE 2224 -1216 2160 -1216
WIRE 2352 -1216 2352 -1248
WIRE 2400 -1216 2400 -1248
WIRE 2448 -1216 2448 -1248
WIRE 2640 -1216 2640 -1248
WIRE 1680 -1168 1648 -1168
WIRE 1824 -1168 1792 -1168
WIRE 1824 -1136 1792 -1136
WIRE 1824 -1104 1792 -1104
WIRE 1680 -1008 1648 -1008
WIRE 1824 -1008 1792 -1008
FLAG 1824 -1168 SPA
FLAG 1824 -1136 S0A
FLAG 1824 -1104 SNA
FLAG 2976 -1280 0
FLAG 2352 -1216 DPA
FLAG 2400 -1216 D0A
FLAG 2448 -1216 DNA
FLAG 1824 -1408 DPA
FLAG 1824 -1376 D0A
FLAG 1824 -1344 DNA
FLAG 1616 -1248 0
FLAG 1648 -1408 DA
FLAG 2640 -1216 DA
FLAG 2192 -1328 0
FLAG 1648 -1168 DA
FLAG 2768 -1280 OUTavg
FLAG 1648 -1008 DA
FLAG 1824 -1008 SA
SYMBOL bv 2160 -1440 M0
SYMATTR InstName Vg1avg
SYMATTR Value V={Vdc/2}
SYMBOL PN_average_model 2400 -1344 R0
SYMATTR InstName XA1
SYMATTR SpiceLine C={C} RP={RP} R0H={R0H} R0L={R0L} RN={RN}
SYMBOL voltage 1616 -1424 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 39 54 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {m} {f1} 0 0 180)
SYMBOL voltage 1616 -1344 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 39 53 Left 2
SYMATTR InstName V7
SYMATTR Value SINE(0 {0*ma/6} {3*f1} 0 0 180)
SYMBOL 2L_average_model 2640 -1360 R0
SYMATTR InstName XA2
SYMBOL bv 2160 -1328 M0
SYMATTR InstName Vg2avg
SYMATTR Value V={Vdc/2}
SYMBOL current 2848 -1280 M90
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 52 -137 VRight 2
WINDOW 0 -54 -10 VRight 2
SYMATTR Value SINE(0 {16*sqrt(2)} 50 0 0 180)
SYMATTR InstName ILoadavg
SYMBOL PN_average_modulator 1728 -1376 R0
WINDOW 0 8 -56 Invisible 2
SYMATTR InstName X2
SYMBOL PN_modulator 1728 -1136 R0
WINDOW 0 8 -56 Invisible 2
SYMATTR InstName X3SP
SYMBOL 2L_modulator 1728 -976 R0
WINDOW 0 8 -56 Invisible 2
SYMATTR InstName X1
TEXT 3120 -1392 Left 2 !.param Ts=50us
TEXT 3120 -1488 Left 2 !.tran 0 80m 40m
TEXT 3120 -1416 Left 2 !.param Vdc=400
TEXT 3120 -1176 Left 2 !.param ma=0.62*k f1=50 k=2/sqrt(3)
TEXT 3120 -1320 Left 2 !.param Rsw=100m
TEXT 3120 -1296 Left 2 !.param RP=2*Rsw
TEXT 3120 -1224 Left 2 !.param RN=2*Rsw
TEXT 3120 -1272 Left 2 !.param R0H=2*Rsw
TEXT 3120 -1248 Left 2 !.param R0L=Rsw
TEXT 3120 -1368 Left 2 !.param C=100u
TEXT 3120 -1464 Left 2 !.options reltol=1e-9
TEXT 3024 -1048 Left 2 !.step param m list 0.5 0.6 0.7 0.8 0.9
